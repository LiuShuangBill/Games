!function(t){var e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(s,h,function(e){return t[e]}.bind(null,h));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){t.exports="dist/images/lol.jpg"},function(t,e){t.exports="dist/images/konglong.png"},function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.ctx=this.initCanvas(t),this.frequency=1e3/30,this.keydowns={},this.actions={},this.init()}init(){document.addEventListener("keydown",t=>{this.keydowns[t.key]=!0}),document.addEventListener("keyup",t=>{this.keydowns[t.key]=!1}),this.timmer=setInterval(()=>{const t=Object.keys(this.keydowns);for(const e of t)this.keydowns[e]&&this.actions[e]&&this.actions[e]();this.ctx.clearRect(0,0,canvas.width,canvas.height),this.draw(),this.update()},this.frequency)}registerAction(t,e){this.actions[t]=e}initCanvas(t){return t.getContext("2d")}drawImage(t){this.ctx.drawImage(t.img,t.x,t.y,t.width,t.height)}draw(){}update(){}}class h{constructor(t){this.canvasWidth=400,this.canvasHeight=400,this.width=50,this.height=50,this.x=80,this.y=200,this.speed=5,this.img=new Image,this.img.src=t}collide(t){return t.y+t.height>this.y&&t.y<this.y+this.height&&t.x+t.width>this.x&&t.x<this.x+this.width}random(){return Math.ceil(10*Math.random())}}var n=i(0),r=i.n(n),o=i(1),a=i.n(o);document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector("#canvas"),e=new s(t),i=new class extends h{constructor(t){super(t),this.width=160,this.height=40}moveX(t){this.x+=t}moveY(t){this.y+=t}}(r.a),n=new class extends h{constructor(t){super(t),this.fired=!1,this.speedX=5,this.speedY=10,this.x=0,this.y=0}move(){this.fired&&((this.y<0||this.y>this.canvasHeight-this.height)&&(this.restoration(),this.veerY()),(this.x<0||this.x>this.canvasWidth-this.width)&&(this.restoration(),this.veerX()),this.y-=this.speedY,this.x-=this.speedX)}fire(){this.fired=!0}veerX(){this.speedX=-this.speedX,this.speedX>=0?this.speedX=this.random():this.speedX=-this.random()}veerY(){this.speedY=-this.speedY,this.speedY>=0?this.speedY=this.random():this.speedY=-this.random()}restorationPaddle(t){const e=this.y,i=this.y+this.height,s=this.x,h=this.x+this.width,n=t.y,r=t.y+t.height,o=t.x,a=t.x+this.width;Math.abs(e-r)<Math.abs(i-n)?this.y=r:Math.abs(e-r)>Math.abs(i-n)?this.y=n-this.height:Math.abs(s-a)<Math.abs(h-o)?this.x=a:Math.abs(s-a)>Math.abs(h-o)&&(this.x=o-this.width)}restoration(){this.y<0&&(this.y=0),this.y>this.canvasHeight-this.height&&(this.y=this.canvasHeight-this.height),this.x<0&&(this.x=0),this.x>this.canvasWidth-this.width&&(this.x=this.canvasWidth-this.width)}}(a.a);e.registerAction("ArrowUp",()=>{i.moveY(-i.speed)}),e.registerAction("ArrowRight",()=>{i.moveX(i.speed)}),e.registerAction("ArrowDown",()=>{i.moveY(i.speed)}),e.registerAction("ArrowLeft",()=>{i.moveX(-i.speed)}),e.registerAction(" ",()=>{n.fire()}),e.draw=(()=>{e.drawImage(i),e.drawImage(n)}),e.update=(()=>{n.move(),i.collide(n)&&(n.restorationPaddle(i),n.veerX(),n.veerY())})})}]);